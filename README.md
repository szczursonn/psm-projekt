# Car Auction App

## Projekt na Programowanie Systemów Mobilnych

### Grupa:

- Michał Szczurek
- Mateusz Puto

## [Live demo](https://psm-firebase-4f74c.web.app/)

#### [Stuff do prezentacji](/docs/docs.md)

### Użyte usługi Firebase

- Firestore
- Authentication
- Storage
- Hosting

### Użyte fizyczne cechy urządzenia

- Kamera (przy dowaniu zdjęcia do oferty lub profilu)
- GPS (przy dodawaniu oferty)
- Wibracje (przy otrzymywaniu wiadomości)  
  **⚠️ Aby wibracje działały, należy po załadowaniu strony wykonać jakąkolwiek interakcję! ⚠️**
  https://developer.mozilla.org/en-US/docs/Web/Security/User_activation#sticky_activation

### Platforma programistyczna

- React.js poprzez Vite
  - React Router v6
  - Firebase Web SDK v9
  - React Firebase Hooks
  - React Leaflet
- Bootstrap CSS (bez JS)
- vite-plugin-pwa

## Instalacja

1. Zklonuj repo
2. W terminalu `npm i`
3. Odpal dev server `npm run dev`

## DB Schema

### Car Offer (`/cars`)

```
doc id: autogenerated
{
    manufacturer: string
    model: string
    year: string
    price: number
    features: string[]
    miles: number?
    location_osm_id: string?
    created_at: date
    owner_id: string (user id)
    photo_url: string?
    horses: number?
    fuel_type: string?
}
```

### Chat (`/chats`)

```
doc id: autogenerated
{
    members: string[] (user ids)
    offer_id: string (offer doc id)
    messages: {
        sender: string (user id)
        content: string
        created_at: date
    }[]
}
```

### Profile (`/profiles`)

```
doc id: user id from Firebase Auth
{
    name: string?
    email: string?
    phone_number: string?
    photo_url: string?
}
```
